T [N+1] S

X0S

A [len] S
A [1] S
T [cur_len] S

A [sw1] S
A [f_el] S
A [len] S
A [len] S
S [2] S
T [sw1] S   [set last_el]

A [sw2] S
A [f_el] S
A [len] S
A [len] S
S [2] S
T [sw2] S     [set last_el]

A [for_max] S
A [f_el] S
T [for_max] S   [set 1 el]

A 0[f_el] S [fl]
U 0[f_el] S [tfl]

A [fl] S
A [f_el] S
T [fl] S

A [tfl] S
A [f_el] S
T [tfl] S   [указатели на первый элемент]

[loop]

T 0 S [l1]

A [cur_len] S
S [1] S
T [cur_len] S    [-1 количество необработанных элементов]



A [fl] S
U [cur] S
T [ss1] S

A [tfl] S
U [cur_d] S
T [ss2] S       [вовзвращаемся к первому элементу массива для поиска максимума]


A [1] S

T [count2] S    [счетчик второго цикла = 1]

A 0 F [for_max]
T [max] S       [первый элемент = макс]

[loop2]
T 0 S [l2]      [обнуление асс]

A [count2] S
S [cur_len] S
E [l11] S
A [cur_len] S 
A [1] S


T [count2] S   [счетчик2+=1]


A [cur] S   [итерация по элементам]

A [2] S     [итерация по элементам]

T [cur] S     [итерация по элементам]

A [cur_d] S      [итерация по элементам]

A [2] S           [итерация по элементам]

T [cur_d] S          [итерация по элементам]

A 0 S [cur]    [итерация по элементам]
U 0 S [cur_d]  [итерация по элементам]


S [max] S        [-max]

G [l2] S          [возврат к первой строчке второго цикла если макс не поменялся]


A [max] S       [+max, получаем число, которое было]

T [max] S        [присваиваем max значение]

A [cur] S

T [ss1] S      [присваиваем max значение для swap]

A [cur_d] S

T [ss2] S       [присваиваем max значение для swap]



A [count2] S

S [cur_len] S

G [l2] S    [возврат к первой строчке второго цикла если не пройдены все значения]



T 0 S [l11]           [acc=0] 
A 0 S [ss1] [загрузка в аккумулятор значения из ячейки N  ]

T 0 S        [запись этого значения в рабочую ячейку, обнуление аккумулятора]

A 0 S [sw1] [загрузка в аккумулятор значения из ячейки N+1]

U 0 S [ss2] [ запись этого значения в ячейку с адресом N, обнуление аккумулятора]

T 3 S

A 0 S    [загрузка в аккумулятор значения из ячейки 0]

T 0 S [sw2] [ запись этого значения в ячейку с адресом N+1, обнуление аккумулятора]


A [sw1] S

S [2] S

T [sw1] S

A [sw2] S

S [2] S

T [sw2] S       [убираем обработанный элемент из дальнейшей обработки]


A [count] S

A [1] S

U [count] S

S [len] S

G [l1] S    [конец цикла или возврат к первому действию если не прошло итераций = длине]



[vars]
P 0 S [max]
P 1 S [count] [= 1]
P 1 S [count2] [= 1]
P 0 S [cur_len] [= 11]
P 5 S [len] [=10]
P 0 L [1]
P 1 S [2]
P [<f_el>] S [f_el]

[array]
P 0 S [<f_el>] [0]

P 2 L   [5]

P 1 S   [2]
P 3 S   [6]

P 4 L   [9]

P 1 L   [3]

P 0 L   [1]

P 2 S   [4]

P 4 S   [8]

P 3 L   [7]              